import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as s,f as e}from"./app-924b25df.js";const t="/assets/DPoJn2UCLxiql4y-895bf068.png",o={},i=e(`<h2 id="tacotron2-版本迁移手记" tabindex="-1"><a class="header-anchor" href="#tacotron2-版本迁移手记" aria-hidden="true">#</a> Tacotron2 版本迁移手记</h2><h3 id="tensorflow2-0版本内置了keras-且提供了一些新特性-因此计划将tacotron2的tensorflow模块从1-15-2迁移至2-9-0-记录一下迁移过程以及踩坑。" tabindex="-1"><a class="header-anchor" href="#tensorflow2-0版本内置了keras-且提供了一些新特性-因此计划将tacotron2的tensorflow模块从1-15-2迁移至2-9-0-记录一下迁移过程以及踩坑。" aria-hidden="true">#</a> TensorFlow2.0版本内置了Keras，且提供了一些新特性，因此计划将tacotron2的TensorFlow模块从1.15.2迁移至2.9.0，记录一下迁移过程以及踩坑。</h3><ul><li><ol start="0"><li>总述</li></ol><p>TensorFlow2实际上提供了兼容v1的API，仅需：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> tensorflow<span class="token punctuation">.</span>compat<span class="token punctuation">.</span>v1 <span class="token keyword">as</span> tf
tf<span class="token punctuation">.</span>disable_v2_behavior<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 新版本需要</span>
<span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf2
tf <span class="token operator">=</span> tf2<span class="token punctuation">.</span>compat<span class="token punctuation">.</span>v1
tf<span class="token punctuation">.</span>disable_v2_behavior<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但是这样仅仅是把v2当做v1版本来使用，且不能使用v2提供的新特性，因此不做考虑。</p></li><li><ol><li>contrib包问题。</li></ol><p>这是一个种类十分丰富的社区包，其依赖很多v1版本的底层API，因此没能一并迁移至v2版本。</p><p>但contrib包中的很多功能被v2版本吸纳，部分功能被集成到了下述三个包当中：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Layer
tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>Model
tf<span class="token punctuation">.</span>Module
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>tf<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>training<span class="token punctuation">.</span>HParams
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>解决办法</li></ul><figure><img src="`+t+'" alt="DPoJn2UCLxiql4y" tabindex="0" loading="lazy"><figcaption>DPoJn2UCLxiql4y</figcaption></figure>',6),l=[i];function c(p,r){return a(),s("div",null,l)}const v=n(o,[["render",c],["__file","tacotron2版本迁移.html.vue"]]);export{v as default};
